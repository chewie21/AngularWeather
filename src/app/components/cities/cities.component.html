<div *ngIf="thisCitiesFromLocal.length; else citiesList" class="pb-4">
  <ul class="list-group" *ngFor="let city of thisCitiesFromLocal">
    <li type="button" class="list-group-item city-li shadow m-1"
       [ngClass]="city.active ? 'active-li' : ''"
       (click)="getWeather(city)">
        {{city.name}}
      <fa-icon [icon]="faTime" (click)="deleteCity($event, city)" class="close-icon"></fa-icon>
      <img *ngIf="!!city.icon" class="weather-icon" src="http://openweathermap.org/img/w/{{city.icon}}.png">
    </li>
  </ul>
</div>
<ng-template #citiesList>
  <h1 class="lead second-title py-4">Добавте сюда интересующие вас города...</h1>
</ng-template>

<div *ngIf="buttonDisplay">
  <button  type="button" class="btn btn-outline-primary btn-block" data-toggle="modal" data-target="#modal">Добавить</button>
</div>

<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div *ngIf="error" class="alert alert-danger">
        Этот город уже добавлен!
      </div>
      <div class="modal-body">
        <div *ngIf="thisLoading; else cityContent">
          <div class="d-flex justify-content-center">
            <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
              <span class="sr-only">Loading...</span>
            </div>
          </div>
        </div>
        <ng-template #cityContent>
          <div *ngIf="thisLoadingError; else city">
            <h1 class="lead">Статус ошибки: {{thisLoadingError.status}}</h1>
            <h1 class="lead">Кажется, что-то пошло не так... Повторите попытку позже!</h1>
          </div>
          <ng-template #city>
            <div class="list-group" *ngFor="let city of thisCitiesFromJson">
              <a href="#" class="list-group-item list-group-item-action my-1 modal-li" (click)="setCity(city)">{{city.name}}</a>
            </div>
          </ng-template>
        </ng-template>
      </div>
    </div>
  </div>
</div>
